## numpy 中 transpose 和 swapaxes 函数讲解

参考 [numpy中transpose和swapaxes函数讲解](https://blog.csdn.net/qq1483661204/article/details/70543952)

1. `transpose()`

   这个函数如果括号内不带参数, 就相当于转置, 和 .T 效果一样. 下面主要讲解带有参数的情况.

   举例, 如有 numpy 的数组

   ```python
   >>> import numpy as np
   >>> arr=np.arange(16).reshape((2,2,4)) 
   >>> arr
   array([[[ 0,  1,  2,  3],
           [ 4,  5,  6,  7]],
   
          [[ 8,  9, 10, 11],
           [12, 13, 14, 15]]])
   >>> 
   ```

   那么有

   ```python
   >>> arr.transpose(2,1,0)
   array([[[ 0,  8],
           [ 4, 12]],
   
          [[ 1,  9],
           [ 5, 13]],
   
          [[ 2, 10],
           [ 6, 14]],
   
          [[ 3, 11],
           [ 7, 15]]])
   >>> 
   ```

   为什么会是这样的结果呢, 这是因为 `arr` 这个数组有三个维度, 三个维度的编号对应为 (0, 1, 2), 比如这样, 我们需要拿到 7 这个数字, 怎么办, 肯定需要些三个维度的值, 7 的第一个维度为 0, 第二个维度为 1, 第三个 3, 所以 `arr[0,1,3]` 则拿到了 7. 再回到 `transpose()` 这个函数, 它里面就是维度的排序, 比如我们后面写的 `transpose(2,1,0)`, 就是把之前第三个维度转为第一个维度, 之前的第二个维度不变, 之前的第一个维度变为第三个维度, 好那么我们继续拿 7 这个值来说, 之前的索引为 `[0,1,3]`, 按照我们的转换方法, 把之前的第三维度变为第一维度, 之前的第一维度变为第三维度, 那么现在 7 的索引就是 `(3,1,0)`. 同理所有的数组内的数字都是这样变得, 这就是 `transpose()` 内参数的变化. 

2. `swapaxes()`

   `swapaxes()` 接受一对轴编号, 其实这里我们叫一对维度编号更好吧, 比如:

   ```python
   >>> arr.swapaxes(2,1)  # 就是将第三个维度和第二个维度交换
   array([[[ 0,  4],
           [ 1,  5],
           [ 2,  6],
           [ 3,  7]],
   
          [[ 8, 12],
           [ 9, 13],
           [10, 14],
           [11, 15]]])
   >>> 
   ```

   还是那我们的数字 7 来说, 之前的索引是 `(0,1,3)`, 那么交换之后, 就应该是 `(0,3,1)`.

   

3. 多说一句, 其实numpy高维数组的切片也是这样选取维度的. 

